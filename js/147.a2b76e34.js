"use strict";(self["webpackChunkidaas_admin"]=self["webpackChunkidaas_admin"]||[]).push([[147],{7147:function(e,o,l){l.r(o),l.d(o,{default:function(){return N}});var a=l(4143),t=(l(7437),l(3209)),r=(l(6905),l(9007),l(5791)),n=(l(6809),l(3396)),s=l(7139);const m={class:"flex_space_between"},d=(0,n.Uk)("添加用户"),i=(0,n.Uk)("查看"),u=(0,n.Uk)("编辑");function p(e,o,l,p,c,f){const w=r.mi,b=(0,n.up)("TempateForm"),v=t.$Y,y=t.eI,h=(0,n.up)("addUserModel"),k=(0,n.up)("editUserModel"),M=a.Kf;return(0,n.wg)(),(0,n.j4)(M,{class:"full_container"},{header:(0,n.w5)((()=>[(0,n._)("div",m,[(0,n._)("span",null,(0,s.zw)(e.$router.currentRoute.value.meta&&e.$router.currentRoute.value.meta.title||""),1),(0,n.Wm)(w,{type:"success",onClick:o[0]||(o[0]=e=>p.showAddModel=!0)},{default:(0,n.w5)((()=>[d])),_:1})])])),default:(0,n.w5)((()=>[(0,n.Wm)(b,{formInfo:p.searchFormData,options:p.searchFormOptions,onSubmit:p.submitInfo},null,8,["formInfo","options","onSubmit"]),(0,n.Wm)(y,{data:p.tableData,border:!0},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{prop:"date",label:"Date"}),(0,n.Wm)(v,{prop:"name",label:"Name"}),(0,n.Wm)(v,{prop:"address",label:"Address"}),(0,n.Wm)(v,{fixed:"right",label:"操作",width:"220"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{link:"",type:"primary",size:"small"},{default:(0,n.w5)((()=>[i])),_:1}),(0,n.Wm)(w,{link:"",type:"primary",size:"small",onClick:p.editUser},{default:(0,n.w5)((()=>[u])),_:1},8,["onClick"])])),_:1})])),_:1},8,["data"]),(0,n.Wm)(h,{modelValue:p.showAddModel,"onUpdate:modelValue":o[1]||(o[1]=e=>p.showAddModel=e)},null,8,["modelValue"]),(0,n.Wm)(k,{modelValue:p.showEditModel,"onUpdate:modelValue":o[2]||(o[2]=e=>p.showEditModel=e),modelInfo:p.editFormInfo},null,8,["modelValue","modelInfo"])])),_:1})}var c=l(508),f=l(4386);function w(e,o,l,a,t,r){const s=(0,n.up)("TempateForm"),m=f.Z;return(0,n.wg)(),(0,n.j4)(m,(0,n.dG)(e.$attrs,{title:"新增用户",onConfirmSubmit:e.confirmSubmit,onClosedModel:e.closedModel}),{default:(0,n.w5)((()=>[(0,n.Wm)(s,{ref:"formDOM",options:e.formOptions,formInfo:e.formData},null,8,["options","formInfo"])])),_:1},16,["onConfirmSubmit","onClosedModel"])}l(1703);var b=l(4870);const v={inline:!0,rules:{nickname:{required:!0}},items:[{controlType:"input",keyName:"nickname",label:"用户名"}],btns:[{eventName:"submit",text:"搜索",type:"primary"},{eventName:"reset",text:"重置",type:"primary"}]},y={inline:!1,rules:{nickname:{required:!0},passwrod:{required:!0},role:{type:"array",required:!0,trigger:"change"}},items:[{controlType:"input",keyName:"nickname",label:"用户名"},{controlType:"input",type:"passwrod",keyName:"passwrod",showPassword:!0,label:"密码"},{controlType:"input",keyName:"phone",label:"手机号"}]},h={inline:!1,rules:{nickname:{required:!0},passwrod:{required:!0},role:{type:"array",required:!0,trigger:"change"}},items:[{controlType:"input",keyName:"nickname",label:"用户名"},{controlType:"input",type:"passwrod",keyName:"passwrod",showPassword:!0,label:"密码"}]};var k=(0,n.aZ)({components:{DrawerComponents:f.Z,TempateForm:c.Z},props:{value:Boolean},emits:["update:modelValue"],setup(e,{emit:o}){let l=(0,b.iH)(!1),a=(0,b.iH)({role:[]}),t=(0,b.iH)();const{rules:r,items:n,...s}=y,m={...s,rules:{...r,confirmPasswrod:{required:!0,validator:(e,o,l)=>{t.value.formData.passwrod&&t.value.formData.passwrod===o?l():l(new Error("两次密码不一致"))}}},items:[...n,{controlType:"select",keyName:"role",multiple:!0,label:"角色",placeholder:"可多选角色",options:[{value:1,label:"超级管理员"},{value:2,label:"管理员"},{value:3,label:"开发人员"}]}]},d=()=>{t.value?.validate((e=>{o("update:modelValue",!1)}))},i=()=>{t.value?.resetFields(),o("update:modelValue",!1)};return{showDrawer:l,formData:a,formOptions:m,formDOM:t,confirmSubmit:d,closedModel:i}}}),M=l(89);const D=(0,M.Z)(k,[["render",w]]);var _=D;function I(e,o,l,a,t,r){const s=(0,n.up)("TempateForm"),m=f.Z;return(0,n.wg)(),(0,n.j4)(m,(0,n.dG)(e.$attrs,{title:"修改用户",onConfirmSubmit:e.confirmSubmit,onClosedModel:e.closedModel}),{default:(0,n.w5)((()=>[(0,n.Wm)(s,{ref:"formDOM",options:e.formOptions,formInfo:e.modelInfo},null,8,["options","formInfo"])])),_:1},16,["onConfirmSubmit","onClosedModel"])}var C=(0,n.aZ)({components:{DrawerComponents:f.Z,TempateForm:c.Z},props:{value:Boolean,modelInfo:{type:Object}},emits:["update:modelValue"],setup(e,{emit:o}){let l=(0,b.iH)(!1),a=(0,b.iH)({role:[]}),t=(0,b.iH)();const{rules:r,items:n,...s}=h,m={...s,rules:{...r},items:[...n,{controlType:"select",keyName:"role",multiple:!0,label:"角色",placeholder:"可多选角色",options:[{value:1,label:"超级管理员"},{value:2,label:"管理员"},{value:3,label:"开发人员"}]}]},d=()=>{t.value?.validate((e=>{console.log(e,"提交表单"),o("update:modelValue",!1)}))},i=()=>{t.value?.resetFields(),o("update:modelValue",!1)};return{showDrawer:l,formData:a,formOptions:m,formDOM:t,confirmSubmit:d,closedModel:i}}});const T=(0,M.Z)(C,[["render",I]]);var F=T,g={components:{TempateForm:c.Z,addUserModel:_,editUserModel:F},setup(){let e=(0,b.iH)(!1),o=(0,b.iH)(!1),l=(0,b.iH)({}),a=(0,b.iH)({}),t=(0,b.iH)([{date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles"}]);const r=()=>{o.value=!o.value},n=e=>{console.log(e,"提交内容")};return{tableData:t,showAddModel:e,showEditModel:o,editFormInfo:a,searchFormOptions:v,searchFormData:l,submitInfo:n,editUser:r}}};const W=(0,M.Z)(g,[["render",p],["__scopeId","data-v-15b5f3f8"]]);var N=W}}]);
//# sourceMappingURL=147.a2b76e34.js.map